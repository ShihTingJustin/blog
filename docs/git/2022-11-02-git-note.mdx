---
slug: 2022-11-02-git-note
sidebar_position: 6
title: 'Git æŒ‡ä»¤'
tags: [git, command]
---

commit å¯«æ³•
https://medium.com/@duidae/code-%E3%81%AE-%E6%96%B7%E6%8D%A8%E9%9B%A2-%E9%87%8D%E6%A7%8B-refactoring-ch3-2983e8c0a2a3

[cheatsheet](https://dev.to/doabledanny/git-cheat-sheet-50-commands-free-pdf-and-poster-4gcn)

ç”¨å‹•ç•«è§£é‡‹å¸¸è¦‹çš„ Git command [ğŸŒ³ğŸš€ CS Visualized: Useful Git Commands](https://dev.to/lydiahallie/cs-visualized-useful-git-commands-37p1?fbclid=IwAR1sPBm8TOym6S9uiW8DXZfftZWyvydygKKZU1YcX2vBheJUjwOgEwLkIIA)

[Gitèˆ‡Github-30å¤©å­¸ç¿’æ­·ç¨‹](https://ithelp.ithome.com.tw/users/20119923/ironman/2232)

[git credential](https://chenjinny.medium.com/git-setting-on-macos-learning-notes-21c98a8aa700)

## cherry-pick



## rebase

git log --oneline

git rebase -i [commit]

solve conflict
git rebase --abort

git rebase --continue

commit action
pick
squash
edit
drop
reword

```
  8 # Commands:
  9 # p, pick <commit> = use commit
 10 # r, reword <commit> = use commit, but edit the commit message
 11 # e, edit <commit> = use commit, but stop for amending
 12 # s, squash <commit> = use commit, but meld into previous commit
 13 # f, fixup <commit> = like "squash", but discard this commit's log message
 14 # x, exec <command> = run command (the rest of the line) using shell
 15 # b, break = stop here (continue rebase later with 'git rebase --continue')
 16 # d, drop <commit> = remove commit
 17 # l, label <label> = label current HEAD with a name
 18 # t, reset <label> = reset HEAD to a label
 19 # m, merge [-C <commit> | -c <commit>] <label> [# <oneline>]
 20 # .       create a merge commit using the original merge commit's
 21 # .       message (or the oneline, if no original merge commit was
 22 # .       specified). Use -c <commit> to reword the commit message.
```

#### å–æ¶ˆé€™æ¬¡ rebase
git reset ORIG_HEAD --hard

## stash
git stash æš«å­˜å„²å­˜ç•¶å‰ç›®éŒ„
git stash pop é‚„åŸæš«å­˜
git stash pop stash@{n}
git stash list ç€è¦½ git stash åˆ—è¡¨

solve conflict
git add

åˆªé™¤ stash æš«å­˜
git stash drop æ¸…é™¤æœ€æ–°æš«å­˜
git stash clear æ¸…é™¤å…¨éƒ¨æš«å­˜

https://zlargon.gitbooks.io/git-tutorial/content/advanced/stash.html

https://kingofamani.gitbooks.io/git-teach/content/chapter_3_branch/stash.html

## pull with many conflicts

git reset --hard

https://kingofamani.gitbooks.io/git-teach/content/chapter_2/git_q_and_a.html

## git clone ç‰¹å®šç‰ˆæœ¬
https://ephrain.net/git-%E8%AE%93-git-clone-%E5%8F%AA%E8%A4%87%E8%A3%BD%E7%89%B9%E5%AE%9A%E7%9A%84%E5%88%86%E6%94%AF%E8%B3%87%E6%96%99/

https://blog.csdn.net/qq_30669833/article/details/105422803

[Resetã€Revert è·Ÿ Rebase æŒ‡ä»¤æœ‰ä»€éº¼å·®åˆ¥ï¼Ÿ](https://gitbook.tw/chapters/rewrite-history/reset-revert-and-rebase.html)

[æƒ³è¦åˆªé™¤æŸå¹¾å€‹ Commit æˆ–æ˜¯èª¿æ•´ Commit çš„é †åº](https://gitbook.tw/chapters/rewrite-history/remove-and-reorder-commit.html)

[git ä¿®æ”¹å·²æäº¤çš„å…§å®¹](https://kknews.cc/zh-tw/code/g3vnyne.html)

[Error: Cannot pull with rebase: You have unstaged changes](https://stackoverflow.com/questions/23517464/error-cannot-pull-with-rebase-you-have-unstaged-changes)

## åˆä½µ commit
#### Rebase children of xxxxx interactively

https://gitbook.tw/chapters/rewrite-history/merge-multiple-commits-to-one-commit.html

![](https://i.imgur.com/pXa19kg.png)

é€²å…¥åˆä½µæ¸…å–®çš„ commit æœƒæ˜¯å³éµé¸æ“‡çš„ commit ä¹‹å‰çš„
![](https://i.imgur.com/2VtKdUY.png)

ä½¿ç”¨ Squash with previous commit èˆ‡å‰é¢çš„ commit åˆä½µ
![](https://i.imgur.com/MjglGb8.png)
ä¸€æ¬¡åˆä½µå…©å€‹ commit ï¼Œæƒ³åˆä½µå¤šå€‹ commit å°±è¦åŸ·è¡Œå¤šæ¬¡ Squashï¼ˆä¹Ÿå¯ä»¥å°‡ä¸åŒçš„ commit åˆä½µæˆä¸åŒçµ„çš„æ–° commitï¼‰
![](https://i.imgur.com/VK2X0CW.png)


æœ€ä¸Šé¢æ˜¯åˆä½µä¹‹å¾Œçš„ commit ï¼Œå¯ä»¥é‡æ–°ç·¨è¼¯ commit å…§å®¹
![](https://i.imgur.com/9JvMiNa.png)

ç¢ºå®šä¹‹å¾Œå°±æŒ‰ä¸‹ ok

ç„¶å¾Œ git push æœƒç™¼ç¾ master èˆ‡ origin/master æˆ– heroku/master æœ‰å·®ç•°ç„¡æ³• push
![](https://i.imgur.com/NUQdSGU.png)

![](https://i.imgur.com/p6qRNw6.png)


å¯ä»¥ä½¿ç”¨å¼·åˆ¶çš„èªæ³•ï¼Œç›´æ¥ç”¨æœ¬åœ°çš„ git è“‹éé ç«¯çš„ã€‚

```
git push --force-with-lease
```

```
git push origin HEAD:master --force
```

```
git push --force heroku master
```


## config

```
git config <--global> user.name ""
git config <--global> user.email ""
```



#### Reference
https://www.youtube.com/watch?v=SF3IO_m9jdY
https://fy98.com/2015/09/01/delete-git-server-commit/
https://gitbook.tw/chapters/rewrite-history/merge-multiple-commits-to-one-commit.html
https://www.atlassian.com/blog/sourcetree/interactive-rebase-sourcetree

[git -amend](https://kknews.cc/zh-tw/code/g3vnyne.html)

## merge vs. rebase
[ç‚ºä»€éº¼æˆ‘æ„›ç”¨ rebase](https://billyyyyy3320.com/zh/2019/08/15/why-i-like-git-rebase/)

[ä¿å“¥](https://www.slideshare.net/WillHuangTW/git-merge-rebase)

[çŒ´å­éƒ½èƒ½æ‡‚çš„Git](https://backlog.com/git-tutorial/tw/stepup/stepup2_8.html)

```
git clone -b <branchname> <remote-repo-url>
```
https://www.freecodecamp.org/news/git-clone-branch-how-to-clone-a-specific-branch/


https://gitbook.tw/chapters/rewrite-history/reset-revert-and-rebase.html

https://gitbook.tw/chapters/using-git/reset-commit.html

https://bigboys-me.medium.com/%E8%AE%93%E4%BD%A0%E7%9A%84%E4%BB%A3%E7%A2%BC%E5%9B%9E%E5%88%B0%E9%81%8E%E5%8E%BB-git-reset-%E8%88%87-git-revert-%E7%9A%84%E7%94%A8%E8%99%95-6ba4b7545690

https://noootown.wordpress.com/2015/06/19/git-first-use/

https://cythilya.github.io/2018/05/29/git-merge-squash-vs-rebase-squash/


https://www.conventionalcommits.org/en/v1.0.0-beta.3/

https://www.cnblogs.com/chenjunjie12321/p/6876220.html


## è¨­å®š username useremail

å…¨åŸŸ
```
$ git config --global user.name "John Doe"
$ git config --global user.email johndoe@example.com
```

```
git config user.name "TW-Web-Justin Huang"
git config user.email "justin.huang@shoalter.com"
```

å¦‚æœæƒ³è¦åœ¨å–®ç¨çš„ directory ä¸­è¨­å®šï¼Œæ‹¿æ‰ `--global` å³å¯

https://git-scm.com/book/zh-tw/v2/%E9%96%8B%E5%A7%8B-%E5%88%9D%E6%AC%A1%E8%A8%AD%E5%AE%9A-Git


[ä¿®æ”¹ commit ä½œè€…è³‡è¨Š](https://cynthiachuang.github.io/Change-the-Git-Commit-Author-for-the-Specific-Commits/)
    
    
### commit style
    
```
feat: æ–°å¢/ä¿®æ”¹åŠŸèƒ½ (feature)ã€‚

ci: éƒ¨å±¬ (ci/cd)

fix: ä¿®è£œ bug (bug fix)ã€‚

docs: æ–‡ä»¶ (documentation)ã€‚

style: æ ¼å¼ (ä¸å½±éŸ¿ç¨‹å¼ç¢¼é‹è¡Œçš„è®Šå‹• white-space, formatting, missing semi colons, etc)ã€‚

refactor: é‡æ§‹ (æ—¢ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®è£œ bug çš„ç¨‹å¼ç¢¼è®Šå‹•)ã€‚

perf: æ”¹å–„æ•ˆèƒ½ (A code change that improves performance)ã€‚

test: å¢åŠ æ¸¬è©¦ (when adding missing tests)ã€‚

chore: å»ºæ§‹ç¨‹åºæˆ–è¼”åŠ©å·¥å…·çš„è®Šå‹• (maintain)ã€‚

revert: æ’¤éŠ·å›è¦†å…ˆå‰çš„ commit ä¾‹å¦‚ï¼šrevert: type(scope): subject (å›è¦†ç‰ˆæœ¬ï¼šxxxx)ã€‚
    
Header: <type>(<scope>): <subject>
 - type: ä»£è¡¨ commit çš„é¡åˆ¥ï¼šfeat, fix, docs, style, refactor, test, choreï¼Œå¿…è¦æ¬„ä½ã€‚
 - scope ä»£è¡¨ commit å½±éŸ¿çš„ç¯„åœï¼Œä¾‹å¦‚è³‡æ–™åº«ã€æ§åˆ¶å±¤ã€æ¨¡æ¿å±¤ç­‰ç­‰ï¼Œè¦–å°ˆæ¡ˆä¸åŒè€Œä¸åŒï¼Œç‚ºå¯é¸æ¬„ä½ã€‚
 - subject ä»£è¡¨æ­¤ commit çš„ç°¡çŸ­æè¿°ï¼Œä¸è¦è¶…é 50 å€‹å­—å…ƒï¼Œçµå°¾ä¸è¦åŠ å¥è™Ÿï¼Œç‚ºå¿…è¦æ¬„ä½ã€‚

Body: 72-character wrapped. This should answer:
 * Body éƒ¨ä»½æ˜¯å°æœ¬æ¬¡ Commit çš„è©³ç´°æè¿°ï¼Œå¯ä»¥åˆ†æˆå¤šè¡Œï¼Œæ¯ä¸€è¡Œä¸è¦è¶…é 72 å€‹å­—å…ƒã€‚
 * èªªæ˜ç¨‹å¼ç¢¼è®Šå‹•çš„é …ç›®èˆ‡åŸå› ï¼Œé‚„æœ‰èˆ‡å…ˆå‰è¡Œç‚ºçš„å°æ¯”ã€‚

Footer: 
 - å¡«å¯«ä»»å‹™ç·¨è™Ÿï¼ˆå¦‚æœæœ‰çš„è©±ï¼‰.
 - BREAKING CHANGEï¼ˆå¯å¿½ç•¥ï¼‰ï¼Œè¨˜éŒ„ä¸å…¼å®¹çš„è®Šå‹•ï¼Œ
   ä»¥ BREAKING CHANGE: é–‹é ­ï¼Œå¾Œé¢æ˜¯å°è®Šå‹•çš„æè¿°ã€ä»¥åŠè®Šå‹•åŸå› å’Œé·ç§»æ–¹æ³•ã€‚
```


### FAQ

[Git Undo Merge â€“ How to Revert the Last Merge Commit in Git](https://www.freecodecamp.org/news/git-undo-merge-how-to-revert-the-last-merge-commit-in-git/)

### Reference
[commitlint - Lint commit messages](https://commitlint.js.org/#/)

[é€£çŒ´å­éƒ½èƒ½æ‡‚çš„Gitå…¥é–€æŒ‡å— | è²æ ¼æ¨‚ï¼ˆBacklogï¼‰](https://backlog.com/git-tutorial/tw/)